generator client { provider = "prisma-client-js" }
datasource db { provider = "postgresql"; url = env("DATABASE_URL") }
model User { id String @id @default(cuid()) username String @unique password String createdAt DateTime @default(now()) videos Video[] likes Like[] comments Comment[] }
model Video { id String @id @default(cuid()) url String thumbnail String? caption String? createdAt DateTime @default(now()) user User @relation(fields:[userId], references:[id]) userId String likes Like[] comments Comment[] }
model Like { id String @id @default(cuid()) user User @relation(fields:[userId],references:[id]) userId String video Video @relation(fields:[videoId],references:[id]) videoId String createdAt DateTime @default(now()) @@unique([userId, videoId]) }
model Comment { id String @id @default(cuid()) text String user User @relation(fields:[userId],references:[id]) userId String video Video @relation(fields:[videoId],references:[id]) videoId String createdAt DateTime @default(now()) }
